#!/usr/bin/env python3
"""
Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ Ø§Ù„Ù…Ø·ÙˆØ±
Quick test for the enhanced smart system
"""

import sys
from pathlib import Path

# Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù„Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯
project_root = Path(__file__).parent.parent
sys.path.append(str(project_root))

from backend.smart_batch_processor import SmartBatchProcessor

def test_smart_pipeline():
    """Ø§Ø®ØªØ¨Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ"""
    
    print("ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù…Ù‚Ø§Ø±Ù†Ø©")
    print("="*50)
    
    try:
        # Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬
        processor = SmartBatchProcessor(
            old_dir="../test/2024",
            new_dir="../test/2025",
            max_workers=2,  # Ø¹Ø¯Ø¯ Ø£Ù‚Ù„ Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø®Ø·Ø£
            visual_threshold=0.95
        )
        
        # ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
        processor.run_batch_processing()
        
        print("\nâœ… ØªÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!")
        
    except Exception as e:
        print(f"âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±: {e}")
        import traceback
        traceback.print_exc()

if __name__ == "__main__":
    test_smart_pipeline() 