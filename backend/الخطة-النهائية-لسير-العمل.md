# ๐ฏ ุงูุฎุทุฉ ุงูููุงุฆูุฉ ูุณูุฑ ุงูุนูู: ูุธุงู ุงูููุงุฑูุฉ ุงูุฐูู ููููุงูุฌ ุงูุชุนููููุฉ

## ๐ ููุฎุต ุงููุธุงู

ูุฐุง ุงููุณุชูุฏ ููุซู ุงููุฑุฌุน ุงูุฃุณุงุณู ูู **"ูุธุงู ุงูุชุญููู ุงูุชุฏุฑูุฌู ุงูุฐูู"**ุ ููู ุฎุท ุฅูุชุงุฌ (Pipeline) ูุชูุงูู ูุตูู ูููุงุฑูุฉ ุตูุญุงุช ุงูููุงูุฌ ุงูุชุนููููุฉ ุจููุงุกุฉ ูุฏูุฉ ุนุงููุฉุ ูุน ุงูุชุฑููุฒ ุนูู **ุชูููุฑ ุงูุชูุงููู** ู**ุงูุงุนุชูุงุฏูุฉ**.

ุงููุธุงู ูุตูู ููุนุงูุฌุฉ **ุฏูุนุงุช ูุจูุฑุฉ ูู ุงููููุงุช (Batch Processing)** ูุชูุฏูู ูุชุงุฆุฌ ูุงุถุญุฉ ูููุธูุฉ.

---

## ๐ ูุฑุงุญู ุณูุฑ ุงูุนูู (The Pipeline)

ูุชุจุน ุงููุธุงู ุงุณุชุฑุงุชูุฌูุฉ ุชุฏุฑูุฌูุฉ ูู 4 ูุฑุงุญูุ ุญูุซ ุชูุชูู ุงูุตูุฑุฉ ูู ูุฑุญูุฉ ุฅูู ุฃุฎุฑู ููุท ุนูุฏ ุงูุญุงุฌุฉุ ููุง ูููู ูู ุงุณุชุฏุนุงุกุงุช API ุงูููููุฉ.

```mermaid
graph TD
    subgraph "ุงููุนุงูุฌุฉ ุงูุฃูููุฉ (Batch Processing)"
        A[๐ ูุฌูุฏ 1: 2024] --> C{ุฅูุฌุงุฏ ุงููููุงุช ุงููุดุชุฑูุฉ};
        B[๐ ูุฌูุฏ 2: 2025] --> C;
    end

    subgraph "ูุธุงู ุงูุชุญููู ุงูุชุฏุฑูุฌู ุงูุฐูู"
        C --> D{ุงููุฑุญูุฉ 1: ุงูููุงุฑูุฉ ุงูุจุตุฑูุฉ ุงูุณุฑูุนุฉ};
        D -- "ุชุดุงุจู < 95%" --> E{ุงููุฑุญูุฉ 2: ุงุณุชุฎุฑุงุฌ ุงููุต ุงูุฐูู (LandingAI)};
        D -- "ุชุดุงุจู โฅ 95% (ุชุทุงุจู ุนุงูู)" --> F[โ ูุชูุฌุฉ: ุชุทุงุจู ุจุตุฑู ุนุงูู];
        
        E --> G{ุงููุฑุญูุฉ 3: ููุชุฑุฉ ูุชุญุณูู ุงููุต};
        G --> H{ุงููุฑุญูุฉ 4: ุงูุชุญููู ุงูุฏูุงูู ุงูุนููู (Gemini)};
        
        H --> I[โ ูุชูุฌุฉ: ุชูุฑูุฑ ููุงุฑูุฉ ุดุงูู];
    end

    subgraph "ุงููุชุงุฆุฌ ุงูููุงุฆูุฉ"
        F --> J[๐ ุชูุฑูุฑ ููุงุฆู ูุฌูุน];
        I --> J;
    end

    style A fill:#f9f,stroke:#333,stroke-width:2px
    style B fill:#f9f,stroke:#333,stroke-width:2px
    style J fill:#bbf,stroke:#333,stroke-width:2px
```

---

## ๐ง ุชูุตูู ุงููุฑุงุญู

### ๐ ุงููุฑุญูุฉ 0: ุงููุนุงูุฌุฉ ุงูุฌูุงุนูุฉ (Batch Processing)
- **ุงููุฏุฎูุงุช**: ูุฌูุฏูู ูู ุงูุตูุฑ (ูุซู `test/2024` ู `test/2025`).
- **ุงูุนูููุฉ**:
  1. ูููู ุงููุธุงู ุชููุงุฆูุงู ุจุชุญุฏูุฏ ุฌููุน ุงููููุงุช ุงูุชู ููุง ููุณ ุงูุงุณู ูู ููุง ุงููุฌูุฏูู.
  2. ูุชู ุฅูุดุงุก ูุงุฆูุฉ ููุงู (queue) ููููุงุฑูุฉุ ููู ุจููู.
  3. ูุชู ูุนุงูุฌุฉ ุงููุงุฆูุฉ ุจุงูุชูุงุฒู (parallel processing) ูุถูุงู ุงูุณุฑุนุฉ ุนูุฏ ุงูุชุนุงูู ูุน ูุฆุงุช ุฃู ุขูุงู ุงูุตูุฑ.
- **ุงููุฎุฑุฌุงุช**: ูุงุฆูุฉ ุฃุฒูุงุฌ ูู ุงูุตูุฑ ุฌุงูุฒุฉ ููุฏุฎูู ูู ุฎุท ุงูุฅูุชุงุฌ.

### ๐ฏ ุงููุฑุญูุฉ 1: ุงูููุงุฑูุฉ ุงูุจุตุฑูุฉ ุงูุณุฑูุนุฉ (0 API Calls)
- **ุงููุฏู**: ุงุณุชุจุนุงุฏ ุงูุตูุฑ ุงููุชุทุงุจูุฉ ุจุตุฑูุงู ุจุณุฑุนุฉ ูุจุฏูู ุชูููุฉ.
- **ุงูุฎูุงุฑุฒููุฉ**: ุงุณุชุฎุฏุงู ููุณ ุงูุฎูุงุฑุฒููุฉ ุงูุชู ุชู ุงุฎุชุจุงุฑูุง (SSIM + Hashing + Histogram).
- **ููุทู ุงููุฑุงุฑ**:
  - **ุฅุฐุง ูุงู ุงูุชุดุงุจู โฅ 95%**:
    - **ุงููุฑุงุฑ**: ุงูุตูุฑ ูุชุทุงุจูุฉ ุจุตุฑูุงู ุจุดูู ุดุจู ูุงูู.
    - **ุงูุฅุฌุฑุงุก**: ุชุชููู ุงููุนุงูุฌุฉ ููุง. ูุชู ุชุณุฌูู ุงููุชูุฌุฉ "ุชุทุงุจู ุจุตุฑู ุนุงูู (95%+)".
    - **ุงูุชูููุฑ**: **100%** ูู ุชูููุฉ API ููุฐู ุงูุตูุฑุฉ.
  - **ุฅุฐุง ูุงู ุงูุชุดุงุจู < 95%**:
    - **ุงููุฑุงุฑ**: ููุงู ุงุฎุชูุงูุงุช ุจุตุฑูุฉ ุชุณุชุฏุนู ุงููุฒูุฏ ูู ุงูุชุญููู.
    - **ุงูุฅุฌุฑุงุก**: ุชูุชูู ุงูุตูุฑ ุฅูู ุงููุฑุญูุฉ ุงูุชุงููุฉ.

### ๐ค ุงููุฑุญูุฉ 2: ุงุณุชุฎุฑุงุฌ ุงููุต ุงูุฐูู - LandingAI (1 API Call)
- **ุงููุฏู**: ุงุณุชุฎุฑุงุฌ ุงููุญุชูู ุงููุตู ูู ุงูุตูุฑุชูู ุงููุชูู ุฃุธูุฑุชุง ุงุฎุชูุงูุงุช ุจุตุฑูุฉ.
- **ุงูุฃุฏุงุฉ**: `LandingAI`.
- **ุงูุนูููุฉ**: ูุชู ุฅุฑุณุงู ูู ูู ุงูุตูุฑุฉ ุงููุฏููุฉ ูุงูุฌุฏูุฏุฉ ุฅูู LandingAI ูุงุณุชุฎุฑุงุฌ ูู ุงููุตูุต ุงููุชุงุญุฉ.
- **ุงููุฎุฑุฌุงุช**: ูููุงู JSON ูุญุชููุงู ุนูู ุงููุตูุต ุงูุฃูููุฉ ุงููุณุชุฎุฑุฌุฉ ูุน ุจูุงูุงุช ุฅุถุงููุฉ.

### ๐งน ุงููุฑุญูุฉ 3: ููุชุฑุฉ ูุชุญุณูู ุงููุต (0 API Calls)
- **ุงููุฏู**: ุชูุธูู ุงููุต ุงููุณุชุฎุฑุฌ ูู LandingAI ูุฅุฒุงูุฉ "ุงูุถูุถุงุก" ููุชุฑููุฒ ุนูู ุงููุญุชูู ุงูุชุนูููู ุงููุนูู.
- **ุงูุฃุฏุงุฉ**: ุฎุฏูุฉ `TextOptimizer` ุงูุฏุงุฎููุฉ.
- **ุงูุนูููุฉ**:
  1. ูุชู ุชุฌุงูู ุงููุตูุต ุงูุชู ุชูุซู ูุตูุงู ููุฃููููุงุช ุฃู ุฃุฑูุงู ุงูุตูุญุงุช ุฃู ุชุฑููุณุฉ ุงูุตูุญุฉ.
  2. ูุชู ุชุฌููุน ุงูููุฑุงุช ูุงูููุงุท ุงูุฑุฆูุณูุฉ ูุชูููู ูุต ูุชูุงุณู ููุซู ุงููุญุชูู ุงูุนููู ููุตูุญุฉ.
  3. ูุชู ุฅุฒุงูุฉ ุงููุณุงูุงุช ุงูุฒุงุฆุฏุฉ ูุงูุฃุณุทุฑ ุงููุงุฑุบุฉ.
- **ุงููุฎุฑุฌุงุช**: ูุตูุงู ูุธููุงู ููุตูููุงูุ ุฌุงูุฒุงู ููููุงุฑูุฉ ุงูุฏูุงููุฉ.

### ๐ง ุงููุฑุญูุฉ 4: ุงูุชุญููู ุงูุฏูุงูู ุงูุนููู - Gemini (1 API Call)
- **ุงููุฏู**: ุฅุฌุฑุงุก ููุงุฑูุฉ ุฐููุฉ ุจูู ุงููุตูู ุงููุธููููุ ูููู ุงูุณูุงูุ ูุชุญุฏูุฏ ุงูุชุบููุฑุงุช ุงูุฌููุฑูุฉ.
- **ุงูุฃุฏุงุฉ**: `Gemini Pro` ูุน Prompt ูุตูู ุฎุตูุตุงู.
- **ุงูู Prompt ุงูุฐูู**:
  ```text
  ุฃูุช ุฎุจูุฑ ูู ุชุญููู ุงูููุงูุฌ ุงูุชุนููููุฉ ูููุงุฑูุชูุง. ูููุชู ูู ููุงุฑูุฉ ุงููุตูู ุงูุชุงูููู ุงููุณุชุฎุฑุฌูู ูู ูุณุฎุชูู (ูุฏููุฉ ูุฌุฏูุฏุฉ) ูู ุตูุญุฉ ูุชุงุจ ูุฏุฑุณู.

  ูุนุทูุงุช:
  - ุงูุชุดุงุจู ุงูุจุตุฑู ุงูุฃููู ุจูู ุงูุตูุฑุชูู ูู: {visual_similarity_score}%.
  - ุงููุต ูู ุงููุณุฎุฉ ุงููุฏููุฉ:
  {old_text}
  - ุงููุต ูู ุงููุณุฎุฉ ุงูุฌุฏูุฏุฉ:
  {new_text}

  ุงููุทููุจ:
  1.  ูู ุจุชุญููู ุฏููู ููุงุฎุชูุงูุงุช ุจูู ุงููุตูู.
  2.  **ุชุฌุงูู ุงูุชุบููุฑุงุช ุงูุทูููุฉ** ูุซู ุฅุนุงุฏุฉ ุตูุงุบุฉ ุงูุฌูู ุจููุณ ุงููุนููุ ุฃู ุชุบููุฑ ุชุฑุชูุจ ุงููููุงุช ุงูุฐู ูุง ูุคุซุฑ ุนูู ุงูููููู ุงูุนููู.
  3.  **ุฑูุฒ ุนูู ุงูุชุบููุฑุงุช ุงูุฌููุฑูุฉ** ูุซู:
      - ุฅุถุงูุฉ ุฃู ุญุฐู ุฃุณุฆูุฉ ูุงููุฉ.
      - ุฅุถุงูุฉ ููุฑุงุช ุดุฑุญ ุฌุฏูุฏุฉ.
      - ุชุบููุฑ ุฃุฑูุงู ุฃู ุจูุงูุงุช ุนูููุฉ.
      - ุชุนุฏูู ูุจูุฑ ูู ุงูุฃูุซูุฉ ุงููุทุฑูุญุฉ.
  4.  ุจูุงุกู ุนูู ุชุญููููุ ูุฏู **ูุณุจุฉ ุชุดุงุจู ููุงุฆูุฉ ูู 0 ุฅูู 100**.
  5.  ูุฏู **ููุฎุตุงู ูู ุณุทุฑ ูุงุญุฏ** ูุตู ุฃูู ุชุบููุฑ ุฌููุฑู ุชู ุงูุชุดุงูู.

  ุงูุฑุฌุงุก ุฅุฑุฌุงุน ุงูุฅุฌุงุจุฉ ุจุตูุบุฉ JSON ููุท ุจูุฐุง ุงูุดูู:
  {
    "final_similarity_score": <ุงููุณุจุฉ ุงูุนุฏุฏูุฉ ููุง>,
    "summary_of_changes": "<ูุตู ุงูุชุบููุฑ ุงูุฑุฆูุณู ููุง>"
  }
  ```
- **ุงููุฎุฑุฌุงุช**: ุชูุฑูุฑ ููุงุฑูุฉ ููุงุฆู ูุชุถูู ูุณุจุฉ ุงูุชุดุงุจู ุงูููุงุฆูุฉ ููุตูุงู ููุชุบููุฑุงุช.

---

## ๐ฅ๏ธ ูุงุฌูุฉ ุงููุชุงุฆุฌ (ุดุงุดุฉ ุณููุฉ ููุงุถุญุฉ)

ุณูููู ุงููุธุงู ุจุทุจุงุนุฉ ุชูุฑูุฑ ููุธู ููุจุงุดุฑ ูู ุดุงุดุฉ ุงูุฃูุงูุฑ (console) ููู ุฒูุฌ ูู ุงูุตูุฑุ ุจุงูุฅุถุงูุฉ ุฅูู ููุฎุต ููุงุฆู.

**ูุซุงู ููุชูุฑูุฑ ุงููุฑุฏู:**
```
============================================================
๐ ููุงุฑูุฉ: [101.jpg]
------------------------------------------------------------
- ุงููุฑุญูุฉ 1 (ุจุตุฑู): ๐ก ุชุดุงุจู 70.9% -> ูุณุชุฏุนู ุงูุชุญููู
- ุงููุฑุญูุฉ 2 (LandingAI): โ ุชู ุงุณุชุฎุฑุงุฌ ุงููุต
- ุงููุฑุญูุฉ 3 (ููุชุฑุฉ): โ ุชู ุชูุธูู ุงููุต
- ุงููุฑุญูุฉ 4 (Gemini):
  - ๐ฏ ุงูุชุดุงุจู ุงูููุงุฆู: 85%
  - ๐ ููุฎุต ุงูุชุบููุฑ: "ุชูุช ุฅุถุงูุฉ ูุซุงู ุฌุฏูุฏ ุนู ูุงููู ูููุชู ุงูุซุงูู"
============================================================
```

**ูุซุงู ููุชูุฑูุฑ ุงูููุงุฆู ุงููุฌูุน:**
```
============================================================
๐ ููุฎุต ุงููุนุงูุฌุฉ ุงูุฌูุงุนูุฉ
------------------------------------------------------------
- ุฅุฌูุงูู ุงูุตูุฑ ููููุงุฑูุฉ: 50
- โ ุชุทุงุจู ุจุตุฑู (ุชู ุงูุชูููุฑ): 15 (30%)
- ๐ ุชู ุชุญููููุง ุจุงููุงูู: 35 (70%)
- โฑ๏ธ ููุช ุงููุนุงูุฌุฉ ุงูุฅุฌูุงูู: 5 ุฏูุงุฆู ู 30 ุซุงููุฉ
- ๐ฐ ูุชูุณุท ุงูุชูููุฑ ูู ุงูุชูููุฉ: ~45%
============================================================
```

ูุฐุง ูู ุงููุฑุฌุน ุงูุดุงูู ุงูุฐู ุณูุนูู ุนูู ุฃุณุงุณู. ุฅูู ูุฌูุน ุจูู ุงูุฏูุฉุ ุงูุณุฑุนุฉุ ูุชูููุฑ ุงูุชูุงููู. 